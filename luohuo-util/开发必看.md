# 开发必看：luohuo-util

## 一、如何导入项目

1. 将 `luohuo-util/pom.xml` 导入 IDEA
2. 编译并安装到本地 Maven 仓库（示例）：

```bash
mvn clean install \
  -Dmaven.javadoc.skip=true \
  -Dgpg.skip=true \
  -Dmaven.source.skip=true \
  -DskipTests=true
```

## 二、如何编译 luohuo-util

```bash
# 跳过生成 javadoc
mvn clean install -Dmaven.javadoc.skip=true -Dgpg.skip=true

# 跳过生成源代码
mvn clean install -Dmaven.source.skip=true

# 跳过发布 jar 到中央仓库（仅本地 install）
mvn clean install -Dgpg.skip -f pom.xml

# 同时跳过：javadoc、源代码、发布、单元测试（只编译并安装到本地仓库）
mvn clean install -Dmaven.javadoc.skip=true -Dgpg.skip=true -Dmaven.source.skip=true -DskipTests=true -f pom.xml

# 完整编译（生成源代码 + javadoc + 发布）
mvn clean install
```

## 三、解决 IDEA 控制台生成 javadoc 乱码

macOS：

```text
IntelliJ IDEA -> Preferences -> Build, Execution, Deployment -> Build Tools -> Maven -> Runner
在 Environment variables 增加：JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF-8
```

Windows：

```text
File -> Settings -> Build, Execution, Deployment -> Build Tools -> Maven -> Runner
在 VM Options 增加：-Dfile.encoding=GBK
```

> [!TIP]
> 如果仍不生效，可在命令行执行 `mvn -version` 查看 Maven 实际编码，并让 IDEA 的编码与其保持一致。

## 四、统一升级版本号（示例）

```bash
mvn versions:set -DnewVersion="3.0.0" -DskipTests -DgenerateBackupPoms=false
mvn versions:set -DnewVersion="3.0.0-SNAPSHOT" -DskipTests -DgenerateBackupPoms=false
```
